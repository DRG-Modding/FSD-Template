.\" Copyright (C) 2021 Stefan Roesch <shr@fb.com>
.\"
.\" SPDX-License-Identifier: LGPL-2.0-or-later
.\"
.TH io_uring_wait_cqes 3 "November 15, 2021" "liburing-2.1" "liburing Manual"
.SH NAME
io_uring_wait_cqes - wait for one or more io_uring completion events
.SH SYNOPSIS
.nf
.BR "#include <liburing.h>"
.PP
.BI "int io_uring_wait_cqes(struct io_uring *" ring ","
.BI "                       struct io_uring_cqe **" cqe_ptr ","
.BI "                       unsigned " wait_nr ","
.BI "                       struct __kernel_timespec *" ts ","
.BI "                       sigset_t *" sigmask ");
.fi
.PP
.SH DESCRIPTION
.PP
The io_uring_wait_cqes() function returns
.I wait_nr
IO completions from the queue belonging to the
.I ring
param, waiting for it if necessary or until the timeout
.I ts
expires. The
.I sigmask
specifies the set of signals to block. The prevailing signal mask is restored
before returning.

The
.I cqe_ptr
param is filled in on success.

If
.I ts
is specified, the application does not need to call io_uring_submit (3) before
calling io_uring_wait_cqes (3).

.SH RETURN VALUE
On success
.BR io_uring_wait_cqes (3)
returns 0 and the cqe_ptr parm is filled in. On failure it returns -errno.
.SH SEE ALSO
.BR io_uring_submit (3),  io_uring_wait_cqe_timeout (3), io_uring_wait_cqe(3).
